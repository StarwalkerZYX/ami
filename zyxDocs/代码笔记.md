---
typora-root-url: ./
---

# 运行例子



```bash
yarn example geometries_slice 
```

对应 package.json 中的：

```json
"scripts": {
    
    "example": "node ./scripts/router.js examples",
    
    }
```

在VSCode中，添加下面的Launch配置。F5运行。

```json
{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        
        {
            "type": "chrome",
            "request": "launch",
            "name": "Launch Chrome against localhost",
            "url": "http://localhost:8080",
            "webRoot": "${workspaceFolder}"
        }
    ]
}
```

# 添加本地虚拟目录

![IIS Vol setting](/IIS Vol setting.jpg)

# 示例：geometries_slice

- 路径：examples\geometries_slice\

## 业务流程：geometries_slice.js

- 根据指定URL和一组尾号，生成URL队列。使用`let loader = new LoadersVolume(threeD);` 来进行加载。
- 生成序列： `const series = loader.data[0].mergeSeries(loader.data)[0];`
- 生成Volume，并获取各项属性：

```javascript
      const stack = series.stack[0];
      stackHelper = new HelpersStack(stack);
      const centerLPS = stackHelper.stack.worldCenter();
      stackHelper.slice.aabbSpace = 'LPS';
      stackHelper.slice.planePosition.x = centerLPS.x;
      stackHelper.slice.planePosition.y = centerLPS.y;
      stackHelper.slice.planePosition.z = centerLPS.z;
      stackHelper.slice.thickness = 0;
      stackHelper.slice.spacing = 1;
      scene.add(stackHelper);
```

# 示例：vr_crop

报下面的错误，不出画面

```shell
three.min.js:202
THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.
three.min.js:202
THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.
```

